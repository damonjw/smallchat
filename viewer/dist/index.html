<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multi-Agent Event Log Viewer</title>
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Rn=!1;var br=Array.isArray,cs=Array.prototype.indexOf,Yn=Array.from,yr=Object.defineProperty,Kt=Object.getOwnPropertyDescriptor,ds=Object.getOwnPropertyDescriptors,vs=Object.prototype,_s=Array.prototype,wr=Object.getPrototypeOf,or=Object.isExtensible;const mt=()=>{};function hs(e){return e()}function xn(e){for(var t=0;t<e.length;t++)e[t]()}function Er(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}const ge=2,xr=4,An=8,ps=1<<24,ft=16,ut=32,Mt=64,Mn=128,Ke=512,he=1024,Me=2048,Qe=4096,Re=8192,lt=16384,Jn=32768,Jt=65536,fr=1<<17,Pr=1<<18,Qt=1<<19,Tr=1<<20,St=32768,Ln=1<<21,Wn=1<<22,bt=1<<23,Ht=Symbol("$state"),gs=Symbol("legacy props"),Bt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ms(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function bs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ys(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ws(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Es(e){throw new Error("https://svelte.dev/e/effect_orphan")}function xs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ps(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ts(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ks(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ss(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ds(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const kr=1,Sr=2,Dr=4,As=8,Ms=16,Cs=2,Os=4,$s=8,Is=1,Ns=2,be=Symbol();function Rs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Ar(e){return e===this.v}function Mr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Cr(e){return!Mr(e,this.v)}let en=!1,Ls=!1;function Fs(){en=!0}let G=null;function Wt(e){G=e}function Ct(e,t=!1,n){G={p:G,i:!1,c:null,e:null,s:e,x:null,l:en&&!t?{s:null,u:null,$:[]}:null}}function Ot(e){var t=G,n=t.e;if(n!==null){t.e=null;for(var r of n)Vr(r)}return t.i=!0,G=t.p,{}}function vn(){return!en||G!==null&&G.l===null}let Ut=[];function zs(){var e=Ut;Ut=[],xn(e)}function _n(e){if(Ut.length===0){var t=Ut;queueMicrotask(()=>{t===Ut&&zs()})}Ut.push(e)}function Or(e){var t=L;if(t===null)return I.f|=bt,e;if((t.f&Jn)===0){if((t.f&Mn)===0)throw e;t.b.error(e)}else Gt(e,t)}function Gt(e,t){for(;t!==null;){if((t.f&Mn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const yn=new Set;let J=null,qe=null,We=[],Gn=null,Fn=!1;class Ge{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#o=null;#a=[];#s=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){We=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of t)this.#i(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#l(n.effects),this.#l(n.render_effects),this.#l(n.block_effects)):(J=null,ur(n.render_effects),ur(n.effects),this.#o?.resolve()),qe=null}#i(t,n){t.f^=he;for(var r=t.first;r!==null;){var a=r.f,s=(a&(ut|Mt))!==0,i=s&&(a&he)!==0,u=i||(a&Re)!==0||this.skipped_effects.has(r);if((r.f&Mn)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!u&&r.fn!==null){s?r.f^=he:(a&xr)!==0?n.effects.push(r):tn(r)&&((r.f&ft)!==0&&n.block_effects.push(r),Zt(r));var o=r.first;if(o!==null){r=o;continue}}var f=r.parent;for(r=r.next;r===null&&f!==null;)f===n.effect&&(this.#l(n.effects),this.#l(n.render_effects),this.#l(n.block_effects),n=n.parent),r=f.next,f=f.parent}}#l(t){for(const n of t)((n.f&Me)!==0?this.#a:this.#s).push(n),this.#f(n.deps),pe(n,he)}#f(t){if(t!==null)for(const n of t)(n.f&ge)===0||(n.f&St)===0||(n.f^=St,this.#f(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&bt)===0&&(this.current.set(t,t.v),qe?.set(t,t.v))}activate(){J=this,this.apply()}deactivate(){J===this&&(J=null,qe=null)}flush(){if(this.activate(),We.length>0){if(js(),J!==null&&J!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#c()}#c(){if(yn.size>1){this.previous.clear();var t=qe,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of yn){if(s===this){n=!1;continue}const i=[];for(const[o,f]of this.current){if(s.current.has(o))if(n&&f!==s.current.get(o))s.current.set(o,f);else continue;i.push(o)}if(i.length===0)continue;const u=[...s.current.keys()].filter(o=>!this.current.has(o));if(u.length>0){var a=We;We=[];const o=new Set,f=new Map;for(const d of i)$r(d,u,o,f);if(We.length>0){J=s,s.apply();for(const d of We)s.#i(d,r);s.deactivate()}We=a}}J=null,qe=t}this.committed=!0,yn.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#a)pe(t,Me),Dt(t);for(const t of this.#s)pe(t,Qe),Dt(t);this.#a=[],this.#s=[],this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#o??=Er()).promise}static ensure(){if(J===null){const t=J=new Ge;yn.add(J),Ge.enqueue(()=>{J===t&&t.flush()})}return J}static enqueue(t){_n(t)}apply(){}}function js(){var e=wt;Fn=!0;var t=null;try{var n=0;for(Tn(!0);We.length>0;){var r=Ge.ensure();if(n++>1e3){var a,s;qs()}r.process(We),yt.clear()}}finally{Fn=!1,Tn(e),Gn=null}}function qs(){try{xs()}catch(e){Gt(e,Gn)}}let at=null;function ur(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(lt|Re))===0&&tn(r)&&(at=new Set,Zt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Jr(r):r.fn=null),at?.size>0)){yt.clear();for(const a of at){if((a.f&(lt|Re))!==0)continue;const s=[a];let i=a.parent;for(;i!==null;)at.has(i)&&(at.delete(i),s.push(i)),i=i.parent;for(let u=s.length-1;u>=0;u--){const o=s[u];(o.f&(lt|Re))===0&&Zt(o)}}at.clear()}}at=null}}function $r(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const a of e.reactions){const s=a.f;(s&ge)!==0?$r(a,t,n,r):(s&(Wn|ft))!==0&&(s&Me)===0&&Ir(a,t,r)&&(pe(a,Me),Dt(a))}}function Ir(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const a of e.deps){if(t.includes(a))return!0;if((a.f&ge)!==0&&Ir(a,t,n))return n.set(a,!0),!0}return n.set(e,!1),!1}function Dt(e){for(var t=Gn=e;t.parent!==null;){t=t.parent;var n=t.f;if(Fn&&t===L&&(n&ft)!==0&&(n&Pr)===0)return;if((n&(Mt|ut))!==0){if((n&he)===0)return;t.f^=he}}We.push(t)}function Bs(e){let t=0,n=At(0),r;return()=>{un()&&(l(n),tr(()=>(t===0&&(r=b(()=>e(()=>on(n)))),t+=1,()=>{_n(()=>{t-=1,t===0&&(r?.(),r=void 0,on(n))})})))}}var Us=Jt|Qt|Mn;function Vs(e,t,n){new Ks(e,t,n)}class Ks{parent;#e=!1;#t;#r=null;#n;#o;#a;#s=null;#i=null;#l=null;#f=null;#u=null;#c=0;#d=0;#_=!1;#v=null;#b=Bs(()=>(this.#v=At(this.#c),()=>{this.#v=null}));constructor(t,n,r){this.#t=t,this.#n=n,this.#o=r,this.parent=L.b,this.#e=!!this.#n.pending,this.#a=nr(()=>{L.b=this;{var a=this.#g();try{this.#s=je(()=>r(a))}catch(s){this.error(s)}this.#d>0?this.#p():this.#e=!1}return()=>{this.#u?.remove()}},Us)}#y(){try{this.#s=je(()=>this.#o(this.#t))}catch(t){this.error(t)}this.#e=!1}#w(){const t=this.#n.pending;t&&(this.#i=je(()=>t(this.#t)),Ge.enqueue(()=>{var n=this.#g();this.#s=this.#h(()=>(Ge.ensure(),je(()=>this.#o(n)))),this.#d>0?this.#p():(Yt(this.#i,()=>{this.#i=null}),this.#e=!1)}))}#g(){var t=this.#t;return this.#e&&(this.#u=Et(),this.#t.before(this.#u),t=this.#u),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#h(t){var n=L,r=I,a=G;Ze(this.#a),De(this.#a),Wt(this.#a.ctx);try{return t()}catch(s){return Or(s),null}finally{Ze(n),De(r),Wt(a)}}#p(){const t=this.#n.pending;this.#s!==null&&(this.#f=document.createDocumentFragment(),this.#f.append(this.#u),Xr(this.#s,this.#f)),this.#i===null&&(this.#i=je(()=>t(this.#t)))}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}this.#d+=t,this.#d===0&&(this.#e=!1,this.#i&&Yt(this.#i,()=>{this.#i=null}),this.#f&&(this.#t.before(this.#f),this.#f=null))}update_pending_count(t){this.#m(t),this.#c+=t,this.#v&&Xt(this.#v,this.#c)}get_effect_pending(){return this.#b(),l(this.#v)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#_||!n&&!r)throw t;this.#s&&(Ae(this.#s),this.#s=null),this.#i&&(Ae(this.#i),this.#i=null),this.#l&&(Ae(this.#l),this.#l=null);var a=!1,s=!1;const i=()=>{if(a){Rs();return}a=!0,s&&Ds(),Ge.ensure(),this.#c=0,this.#l!==null&&Yt(this.#l,()=>{this.#l=null}),this.#e=this.has_pending_snippet(),this.#s=this.#h(()=>(this.#_=!1,je(()=>this.#o(this.#t)))),this.#d>0?this.#p():this.#e=!1};var u=I;try{De(null),s=!0,n?.(t,i),s=!1}catch(o){Gt(o,this.#a&&this.#a.parent)}finally{De(u)}r&&_n(()=>{this.#l=this.#h(()=>{Ge.ensure(),this.#_=!0;try{return je(()=>{r(this.#t,()=>t,()=>i)})}catch(o){return Gt(o,this.#a.parent),null}finally{this.#_=!1}})})}}function ln(e,t){return t}function Hs(e,t,n){for(var r=[],a=t.length,s=0;s<a;s++)rr(t[s].e,r,!0);Wr(r,()=>{var i=r.length===0&&n!==null;if(i){var u=n,o=u.parentNode;ta(o),o.append(u),e.items.clear(),Ve(e,t[0].prev,t[a-1].next)}for(var f=0;f<a;f++){var d=t[f];i||(e.items.delete(d.k),Ve(e,d.prev,d.next)),Ae(d.e,!i)}e.first===t[0]&&(e.first=t[0].prev)})}function _e(e,t,n,r,a,s=null){var i=e,u=new Map,o=null,f=(t&Dr)!==0,d=(t&kr)!==0,p=(t&Sr)!==0;if(f){var v=e;i=v.appendChild(Et())}var _=null,x=le(()=>{var w=n();return br(w)?w:w==null?[]:Yn(w)}),S,c=!0;function m(){Ys(h,S,i,t,r),_!==null&&(S.length===0?(_.fragment?(i.before(_.fragment),_.fragment=null):sr(_.effect),P.first=_.effect):Yt(_.effect,()=>{_=null}))}var P=nr(()=>{S=l(x);for(var w=S.length,F=new Set,j=J,Z=null,K=Br(),Q=0;Q<w;Q+=1){var oe=S[Q],re=r(oe,Q),fe=c?null:u.get(re);fe?(d&&Xt(fe.v,oe),p?Xt(fe.i,Q):fe.i=Q,K&&j.skipped_effects.delete(fe.e)):(fe=Js(c?i:null,Z,oe,re,Q,a,t,n),c&&(fe.o=!0,Z===null?o=fe:Z.next=fe,Z=fe),u.set(re,fe)),F.add(re)}if(w===0&&s&&!_)if(c)_={fragment:null,effect:je(()=>s(i))};else{var et=document.createDocumentFragment(),q=Et();et.append(q),_={fragment:et,effect:je(()=>s(q))}}if(!c)if(K){for(const[Pe,Le]of u)F.has(Pe)||j.skipped_effects.add(Le.e);j.oncommit(m),j.ondiscard(()=>{})}else m();l(x)}),h={effect:P,items:u,first:o};c=!1}function Ys(e,t,n,r,a){var s=(r&As)!==0,i=t.length,u=e.items,o=e.first,f,d=null,p,v=[],_=[],x,S,c,m;if(s)for(m=0;m<i;m+=1)x=t[m],S=a(x,m),c=u.get(S),c.o&&(c.a?.measure(),(p??=new Set).add(c));for(m=0;m<i;m+=1){if(x=t[m],S=a(x,m),c=u.get(S),e.first??=c,!c.o){c.o=!0;var P=d?d.next:o;Ve(e,d,c),Ve(e,c,P),Nn(c,P,n),d=c,v=[],_=[],o=d.next;continue}if((c.e.f&Re)!==0&&(sr(c.e),s&&(c.a?.unfix(),(p??=new Set).delete(c))),c!==o){if(f!==void 0&&f.has(c)){if(v.length<_.length){var h=_[0],w;d=h.prev;var F=v[0],j=v[v.length-1];for(w=0;w<v.length;w+=1)Nn(v[w],h,n);for(w=0;w<_.length;w+=1)f.delete(_[w]);Ve(e,F.prev,j.next),Ve(e,d,F),Ve(e,j,h),o=h,d=j,m-=1,v=[],_=[]}else f.delete(c),Nn(c,o,n),Ve(e,c.prev,c.next),Ve(e,c,d===null?e.first:d.next),Ve(e,d,c),d=c;continue}for(v=[],_=[];o!==null&&o.k!==S;)(o.e.f&Re)===0&&(f??=new Set).add(o),_.push(o),o=o.next;if(o===null)continue;c=o}v.push(c),d=c,o=c.next}let Z=u.size>i;if(o!==null||f!==void 0){for(var K=f===void 0?[]:Yn(f);o!==null;)(o.e.f&Re)===0&&K.push(o),o=o.next;var Q=K.length;if(Z=u.size-Q>i,Q>0){var oe=(r&Dr)!==0&&i===0?n:null;if(s){for(m=0;m<Q;m+=1)K[m].a?.measure();for(m=0;m<Q;m+=1)K[m].a?.fix()}Hs(e,K,oe)}}if(Z)for(const re of u.values())re.o||(Ve(e,d,re),d=re);e.effect.last=d&&d.e,s&&_n(()=>{if(p!==void 0)for(c of p)c.a?.apply()})}function Js(e,t,n,r,a,s,i,u){var o=(i&kr)!==0,f=(i&Ms)===0,d=o?f?Y(n,!1,!1):At(n):n,p=(i&Sr)===0?a:At(a),v={i:p,v:d,k:r,a:null,e:null,o:!1,prev:t,next:null};try{if(e===null){var _=document.createDocumentFragment();_.append(e=Et())}return v.e=je(()=>s(e,d,p,u)),t!==null&&(t.next=v),v}finally{}}function Nn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var i=hn(s);a.before(s),s=i}}function Ve(e,t,n){t===null?(e.first=n,e.effect.first=n&&n.e):(t.e.next&&(t.e.next.prev=null),t.next=n,t.e.next=n&&n.e),n!==null&&(n.e.prev&&(n.e.prev.next=null),n.prev=t,n.e.prev=t&&t.e)}function Ws(e,t,n,r){const a=vn()?Xn:le;if(n.length===0&&e.length===0){r(t.map(a));return}var s=J,i=L,u=Gs();function o(){Promise.all(n.map(f=>Xs(f))).then(f=>{u();try{r([...t.map(a),...f])}catch(d){(i.f&lt)===0&&Gt(d,i)}s?.deactivate(),Pn()}).catch(f=>{Gt(f,i)})}e.length>0?Promise.all(e).then(()=>{u();try{return o()}finally{s?.deactivate(),Pn()}}):o()}function Gs(){var e=L,t=I,n=G,r=J;return function(s=!0){Ze(e),De(t),Wt(n),s&&r?.activate()}}function Pn(){Ze(null),De(null),Wt(null)}function Xn(e){var t=ge|Me,n=I!==null&&(I.f&ge)!==0?I:null;return L!==null&&(L.f|=Qt),{ctx:G,deps:null,effects:null,equals:Ar,f:t,fn:e,reactions:null,rv:0,v:be,wv:0,parent:n??L,ac:null}}function Xs(e,t){let n=L;n===null&&bs();var r=n.b,a=void 0,s=At(be),i=!I,u=new Map;return aa(()=>{var o=Er();a=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).then(()=>{f===J&&f.committed&&f.deactivate(),Pn()})}catch(v){o.reject(v),Pn()}var f=J;if(i){var d=!r.is_pending();r.update_pending_count(1),f.increment(d),u.get(f)?.reject(Bt),u.delete(f),u.set(f,o)}const p=(v,_=void 0)=>{if(f.activate(),_)_!==Bt&&(s.f|=bt,Xt(s,_));else{(s.f&bt)!==0&&(s.f^=bt),Xt(s,v);for(const[x,S]of u){if(u.delete(x),x===f)break;S.reject(Bt)}}i&&(r.update_pending_count(-1),f.decrement(d))};o.promise.then(p,v=>p(null,v||"unknown"))}),er(()=>{for(const o of u.values())o.reject(Bt)}),new Promise(o=>{function f(d){function p(){d===a?o(s):f(a)}d.then(p,p)}f(a)})}function le(e){const t=Xn(e);return t.equals=Cr,t}function Nr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ae(t[n])}}function Zs(e){for(var t=e.parent;t!==null;){if((t.f&ge)===0)return(t.f&lt)===0?t:null;t=t.parent}return null}function Zn(e){var t,n=L;Ze(Zs(e));try{e.f&=~St,Nr(e),t=ts(e)}finally{Ze(n)}return t}function Rr(e){var t=Zn(e);if(e.equals(t)||(J?.is_fork||(e.v=t),e.wv=Qr()),!$t)if(qe!==null)(un()||J?.is_fork)&&qe.set(e,t);else{var n=(e.f&Ke)===0?Qe:he;pe(e,n)}}let zn=new Set;const yt=new Map;let Lr=!1;function At(e,t){var n={f:0,v:e,reactions:null,equals:Ar,rv:0,wv:0};return n}function ht(e,t){const n=At(e);return la(n),n}function Y(e,t=!1,n=!0){const r=At(e);return t||(r.equals=Cr),en&&n&&G!==null&&G.l!==null&&(G.l.s??=[]).push(r),r}function M(e,t,n=!1){I!==null&&(!Xe||(I.f&fr)!==0)&&vn()&&(I.f&(ge|ft|Wn|fr))!==0&&!ot?.includes(e)&&Ss();let r=n?Vt(t):t;return Xt(e,r)}function Xt(e,t){if(!e.equals(t)){var n=e.v;$t?yt.set(e,t):yt.set(e,n),e.v=t;var r=Ge.ensure();r.capture(e,n),(e.f&ge)!==0&&((e.f&Me)!==0&&Zn(e),pe(e,(e.f&Ke)!==0?he:Qe)),e.wv=Qr(),Fr(e,Me),vn()&&L!==null&&(L.f&he)!==0&&(L.f&(ut|Mt))===0&&(ze===null?oa([e]):ze.push(e)),!r.is_fork&&zn.size>0&&!Lr&&Qs()}return t}function Qs(){Lr=!1;var e=wt;Tn(!0);const t=Array.from(zn);try{for(const n of t)(n.f&he)!==0&&pe(n,Qe),tn(n)&&Zt(n)}finally{Tn(e)}zn.clear()}function on(e){M(e,e.v+1)}function Fr(e,t){var n=e.reactions;if(n!==null)for(var r=vn(),a=n.length,s=0;s<a;s++){var i=n[s],u=i.f;if(!(!r&&i===L)){var o=(u&Me)===0;if(o&&pe(i,t),(u&ge)!==0){var f=i;qe?.delete(f),(u&St)===0&&(u&Ke&&(i.f|=St),Fr(f,Qe))}else o&&((u&ft)!==0&&at!==null&&at.add(i),Dt(i))}}}function Vt(e){if(typeof e!="object"||e===null||Ht in e)return e;const t=wr(e);if(t!==vs&&t!==_s)return e;var n=new Map,r=br(e),a=ht(0),s=kt,i=u=>{if(kt===s)return u();var o=I,f=kt;De(null),dr(s);var d=u();return De(o),dr(f),d};return r&&n.set("length",ht(e.length)),new Proxy(e,{defineProperty(u,o,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Ts();var d=n.get(o);return d===void 0?d=i(()=>{var p=ht(f.value);return n.set(o,p),p}):M(d,f.value,!0),!0},deleteProperty(u,o){var f=n.get(o);if(f===void 0){if(o in u){const d=i(()=>ht(be));n.set(o,d),on(a)}}else M(f,be),on(a);return!0},get(u,o,f){if(o===Ht)return e;var d=n.get(o),p=o in u;if(d===void 0&&(!p||Kt(u,o)?.writable)&&(d=i(()=>{var _=Vt(p?u[o]:be),x=ht(_);return x}),n.set(o,d)),d!==void 0){var v=l(d);return v===be?void 0:v}return Reflect.get(u,o,f)},getOwnPropertyDescriptor(u,o){var f=Reflect.getOwnPropertyDescriptor(u,o);if(f&&"value"in f){var d=n.get(o);d&&(f.value=l(d))}else if(f===void 0){var p=n.get(o),v=p?.v;if(p!==void 0&&v!==be)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return f},has(u,o){if(o===Ht)return!0;var f=n.get(o),d=f!==void 0&&f.v!==be||Reflect.has(u,o);if(f!==void 0||L!==null&&(!d||Kt(u,o)?.writable)){f===void 0&&(f=i(()=>{var v=d?Vt(u[o]):be,_=ht(v);return _}),n.set(o,f));var p=l(f);if(p===be)return!1}return d},set(u,o,f,d){var p=n.get(o),v=o in u;if(r&&o==="length")for(var _=f;_<p.v;_+=1){var x=n.get(_+"");x!==void 0?M(x,be):_ in u&&(x=i(()=>ht(be)),n.set(_+"",x))}if(p===void 0)(!v||Kt(u,o)?.writable)&&(p=i(()=>ht(void 0)),M(p,Vt(f)),n.set(o,p));else{v=p.v!==be;var S=i(()=>Vt(f));M(p,S)}var c=Reflect.getOwnPropertyDescriptor(u,o);if(c?.set&&c.set.call(d,f),!v){if(r&&typeof o=="string"){var m=n.get("length"),P=Number(o);Number.isInteger(P)&&P>=m.v&&M(m,P+1)}on(a)}return!0},ownKeys(u){l(a);var o=Reflect.ownKeys(u).filter(p=>{var v=n.get(p);return v===void 0||v.v!==be});for(var[f,d]of n)d.v!==be&&!(f in u)&&o.push(f);return o},setPrototypeOf(){ks()}})}var jn,zr,jr,qr;function ea(){if(jn===void 0){jn=window,zr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;jr=Kt(t,"firstChild").get,qr=Kt(t,"nextSibling").get,or(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),or(n)&&(n.__t=void 0)}}function Et(e=""){return document.createTextNode(e)}function pt(e){return jr.call(e)}function hn(e){return qr.call(e)}function k(e,t){return pt(e)}function ne(e,t=!1){{var n=pt(e);return n instanceof Comment&&n.data===""?hn(n):n}}function $(e,t=1,n=!1){let r=e;for(;t--;)r=hn(r);return r}function ta(e){e.textContent=""}function Br(){return!1}function Qn(e){var t=I,n=L;De(null),Ze(null);try{return e()}finally{De(t),Ze(n)}}function Ur(e){L===null&&(I===null&&Es(),ws()),$t&&ys()}function na(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ct(e,t,n){var r=L;r!==null&&(r.f&Re)!==0&&(e|=Re);var a={ctx:G,deps:null,nodes_start:null,nodes_end:null,f:e|Me|Ke,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Zt(a),a.f|=Jn}catch(u){throw Ae(a),u}else t!==null&&Dt(a);var s=a;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Qt)===0&&(s=s.first,(e&ft)!==0&&(e&Jt)!==0&&s!==null&&(s.f|=Jt)),s!==null&&(s.parent=r,r!==null&&na(s,r),I!==null&&(I.f&ge)!==0&&(e&Mt)===0)){var i=I;(i.effects??=[]).push(s)}return a}function un(){return I!==null&&!Xe}function er(e){const t=ct(An,null,!1);return pe(t,he),t.teardown=e,t}function qn(e){Ur();var t=L.f,n=!I&&(t&ut)!==0&&(t&Jn)===0;if(n){var r=G;(r.e??=[]).push(e)}else return Vr(e)}function Vr(e){return ct(xr|Tr,e,!1)}function ra(e){return Ur(),ct(An|Tr,e,!0)}function sa(e){Ge.ensure();const t=ct(Mt|Qt,e,!0);return(n={})=>new Promise(r=>{n.outro?Yt(t,()=>{Ae(t),r(void 0)}):(Ae(t),r(void 0))})}function ye(e,t){var n=G,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=tr(()=>{e(),!r.ran&&(r.ran=!0,b(t))})}function pn(){var e=G;tr(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&he)!==0&&pe(n,Qe),tn(n)&&Zt(n),t.ran=!1}})}function aa(e){return ct(Wn|Qt,e,!0)}function tr(e,t=0){return ct(An|t,e,!0)}function W(e,t=[],n=[],r=[]){Ws(r,t,n,a=>{ct(An,()=>e(...a.map(l)),!0)})}function nr(e,t=0){var n=ct(ft|t,e,!0);return n}function je(e){return ct(ut|Qt,e,!0)}function Kr(e){var t=e.teardown;if(t!==null){const n=$t,r=I;cr(!0),De(null);try{t.call(null)}finally{cr(n),De(r)}}}function Hr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Qn(()=>{a.abort(Bt)});var r=n.next;(n.f&Mt)!==0?n.parent=null:Ae(n,t),n=r}}function ia(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ut)===0&&Ae(t),t=n}}function Ae(e,t=!0){var n=!1;(t||(e.f&Pr)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Yr(e.nodes_start,e.nodes_end),n=!0),Hr(e,t&&!n),kn(e,0),pe(e,lt);var r=e.transitions;if(r!==null)for(const s of r)s.stop();Kr(e);var a=e.parent;a!==null&&a.first!==null&&Jr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Yr(e,t){for(;e!==null;){var n=e===t?null:hn(e);e.remove(),e=n}}function Jr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Yt(e,t,n=!0){var r=[];rr(e,r,!0),Wr(r,()=>{n&&Ae(e),t&&t()})}function Wr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function rr(e,t,n){if((e.f&Re)===0){if(e.f^=Re,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,s=(r.f&Jt)!==0||(r.f&ut)!==0&&(e.f&ft)!==0;rr(r,t,s?n:!1),r=a}}}function sr(e){Gr(e,!0)}function Gr(e,t){if((e.f&Re)!==0){e.f^=Re,(e.f&he)===0&&(pe(e,Me),Dt(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Jt)!==0||(n.f&ut)!==0;Gr(n,a?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}function Xr(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:hn(n);t.append(n),n=a}}let wt=!1;function Tn(e){wt=e}let $t=!1;function cr(e){$t=e}let I=null,Xe=!1;function De(e){I=e}let L=null;function Ze(e){L=e}let ot=null;function la(e){I!==null&&(ot===null?ot=[e]:ot.push(e))}let xe=null,$e=0,ze=null;function oa(e){ze=e}let Zr=1,cn=0,kt=cn;function dr(e){kt=e}function Qr(){return++Zr}function tn(e){var t=e.f;if((t&Me)!==0)return!0;if(t&ge&&(e.f&=~St),(t&Qe)!==0){var n=e.deps;if(n!==null)for(var r=n.length,a=0;a<r;a++){var s=n[a];if(tn(s)&&Rr(s),s.wv>e.wv)return!0}(t&Ke)!==0&&qe===null&&pe(e,he)}return!1}function es(e,t,n=!0){var r=e.reactions;if(r!==null&&!ot?.includes(e))for(var a=0;a<r.length;a++){var s=r[a];(s.f&ge)!==0?es(s,t,!1):t===s&&(n?pe(s,Me):(s.f&he)!==0&&pe(s,Qe),Dt(s))}}function ts(e){var t=xe,n=$e,r=ze,a=I,s=ot,i=G,u=Xe,o=kt,f=e.f;xe=null,$e=0,ze=null,I=(f&(ut|Mt))===0?e:null,ot=null,Wt(e.ctx),Xe=!1,kt=++cn,e.ac!==null&&(Qn(()=>{e.ac.abort(Bt)}),e.ac=null);try{e.f|=Ln;var d=e.fn,p=d(),v=e.deps;if(xe!==null){var _;if(kn(e,$e),v!==null&&$e>0)for(v.length=$e+xe.length,_=0;_<xe.length;_++)v[$e+_]=xe[_];else e.deps=v=xe;if(wt&&un()&&(e.f&Ke)!==0)for(_=$e;_<v.length;_++)(v[_].reactions??=[]).push(e)}else v!==null&&$e<v.length&&(kn(e,$e),v.length=$e);if(vn()&&ze!==null&&!Xe&&v!==null&&(e.f&(ge|Qe|Me))===0)for(_=0;_<ze.length;_++)es(ze[_],e);return a!==null&&a!==e&&(cn++,ze!==null&&(r===null?r=ze:r.push(...ze))),(e.f&bt)!==0&&(e.f^=bt),p}catch(x){return Or(x)}finally{e.f^=Ln,xe=t,$e=n,ze=r,I=a,ot=s,Wt(i),Xe=u,kt=o}}function fa(e,t){let n=t.reactions;if(n!==null){var r=cs.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&ge)!==0&&(xe===null||!xe.includes(t))&&(pe(t,Qe),(t.f&Ke)!==0&&(t.f^=Ke,t.f&=~St),Nr(t),kn(t,0))}function kn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)fa(e,n[r])}function Zt(e){var t=e.f;if((t&lt)===0){pe(e,he);var n=L,r=wt;L=e,wt=!0;try{(t&(ft|ps))!==0?ia(e):Hr(e),Kr(e);var a=ts(e);e.teardown=typeof a=="function"?a:null,e.wv=Zr;var s;Rn&&Ls&&(e.f&Me)!==0&&e.deps}finally{wt=r,L=n}}}function l(e){var t=e.f,n=(t&ge)!==0;if(I!==null&&!Xe){var r=L!==null&&(L.f&lt)!==0;if(!r&&!ot?.includes(e)){var a=I.deps;if((I.f&Ln)!==0)e.rv<cn&&(e.rv=cn,xe===null&&a!==null&&a[$e]===e?$e++:xe===null?xe=[e]:xe.includes(e)||xe.push(e));else{(I.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[I]:s.includes(I)||s.push(I)}}}if($t){if(yt.has(e))return yt.get(e);if(n){var i=e,u=i.v;return((i.f&he)===0&&i.reactions!==null||rs(i))&&(u=Zn(i)),yt.set(i,u),u}}else n&&(!qe?.has(e)||J?.is_fork&&!un())&&(i=e,tn(i)&&Rr(i),wt&&un()&&(i.f&Ke)===0&&ns(i));if(qe?.has(e))return qe.get(e);if((e.f&bt)!==0)throw e.v;return e.v}function ns(e){if(e.deps!==null){e.f^=Ke;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&ge)!==0&&(t.f&Ke)===0&&ns(t)}}function rs(e){if(e.v===be)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(yt.has(t)||(t.f&ge)!==0&&rs(t))return!0;return!1}function b(e){var t=Xe;try{return Xe=!0,e()}finally{Xe=t}}const ua=-7169;function pe(e,t){e.f=e.f&ua|t}function C(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ht in e)Bn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ht in n&&Bn(n)}}}function Bn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Bn(e[r],t)}catch{}const n=wr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=ds(n);for(let a in r){const s=r[a].get;if(s)try{s.call(e)}catch{}}}}}const ca=["touchstart","touchmove"];function da(e){return ca.includes(e)}const va=new Set,vr=new Set;function _a(e,t,n,r={}){function a(s){if(r.capture||an.call(t,s),!s.cancelBubble)return Qn(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?_n(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function A(e,t,n,r,a){var s={capture:r,passive:a},i=_a(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&er(()=>{t.removeEventListener(e,i,s)})}let _r=null;function an(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],s=a[0]||e.target;_r=e;var i=0,u=_r===e&&e.__root;if(u){var o=a.indexOf(u);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var f=a.indexOf(t);if(f===-1)return;o<=f&&(i=o)}if(s=a[i]||e.target,s!==t){yr(e,"currentTarget",{configurable:!0,get(){return s||n}});var d=I,p=L;De(null),Ze(null);try{for(var v,_=[];s!==null;){var x=s.assignedSlot||s.parentNode||s.host||null;try{var S=s["__"+r];S!=null&&(!s.disabled||e.target===s)&&S.call(s,e)}catch(c){v?_.push(c):v=c}if(e.cancelBubble||x===t||x===null)break;s=x}if(v){for(let c of _)queueMicrotask(()=>{throw c});throw v}}finally{e.__root=t,delete e.currentTarget,De(d),Ze(p)}}}function ss(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","\x3C!---->"),t.content}function Sn(e,t){var n=L;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function O(e,t){var n=(t&Is)!==0,r=(t&Ns)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=ss(s?e:"<!>"+e),n||(a=pt(a)));var i=r||zr?document.importNode(a,!0):a.cloneNode(!0);if(n){var u=pt(i),o=i.lastChild;Sn(u,o)}else Sn(i,i);return i}}function Ne(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Et();return e.append(t,n),Sn(t,n),e}function T(e,t){e!==null&&e.before(t)}function ae(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ha(e,t){return pa(e,t)}const zt=new Map;function pa(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:i=!0}){ea();var u=new Set,o=p=>{for(var v=0;v<p.length;v++){var _=p[v];if(!u.has(_)){u.add(_);var x=da(_);t.addEventListener(_,an,{passive:x});var S=zt.get(_);S===void 0?(document.addEventListener(_,an,{passive:x}),zt.set(_,1)):zt.set(_,S+1)}}};o(Yn(va)),vr.add(o);var f=void 0,d=sa(()=>{var p=n??t.appendChild(Et());return Vs(p,{pending:()=>{}},v=>{if(s){Ct({});var _=G;_.c=s}a&&(r.$$events=a),f=e(v,r)||{},s&&Ot()}),()=>{for(var v of u){t.removeEventListener(v,an);var _=zt.get(v);--_===0?(document.removeEventListener(v,an),zt.delete(v)):zt.set(v,_)}vr.delete(o),p!==n&&p.parentNode?.removeChild(p)}});return ga.set(f,d),f}let ga=new WeakMap;class ma{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#o=!0;constructor(t,n=!0){this.anchor=t,this.#o=n}#a=()=>{var t=J;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)sr(r),this.#n.delete(n);else{var a=this.#r.get(n);a&&(this.#t.set(n,a.effect),this.#r.delete(n),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),r=a.effect)}for(const[s,i]of this.#e){if(this.#e.delete(s),s===t)break;const u=this.#r.get(i);u&&(Ae(u.effect),this.#r.delete(i))}for(const[s,i]of this.#t){if(s===n||this.#n.has(s))continue;const u=()=>{if(Array.from(this.#e.values()).includes(s)){var f=document.createDocumentFragment();Xr(i,f),f.append(Et()),this.#r.set(s,{effect:i,fragment:f})}else Ae(i);this.#n.delete(s),this.#t.delete(s)};this.#o||!r?(this.#n.add(s),Yt(i,u,!1)):u()}}};#s=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,a]of this.#r)n.includes(r)||(Ae(a.effect),this.#r.delete(r))};ensure(t,n){var r=J,a=Br();if(n&&!this.#t.has(t)&&!this.#r.has(t))if(a){var s=document.createDocumentFragment(),i=Et();s.append(i),this.#r.set(t,{effect:je(()=>n(i)),fragment:s})}else this.#t.set(t,je(()=>n(this.anchor)));if(this.#e.set(r,t),a){for(const[u,o]of this.#t)u===t?r.skipped_effects.delete(o):r.skipped_effects.add(o);for(const[u,o]of this.#r)u===t?r.skipped_effects.delete(o.effect):r.skipped_effects.add(o.effect);r.oncommit(this.#a),r.ondiscard(this.#s)}else this.#a()}}function ie(e,t,n=!1){var r=new ma(e),a=n?Jt:0;function s(i,u){r.ensure(i,u)}nr(()=>{var i=!1;t((u,o=!0)=>{i=!0,s(o,u)}),i||s(!1,null)},a)}function hr(e,t,n=!1,r=!1,a=!1){var s=e,i="";W(()=>{var u=L;if(i!==(i=t()??"")&&(u.nodes_start!==null&&(Yr(u.nodes_start,u.nodes_end),u.nodes_start=u.nodes_end=null),i!=="")){var o=i+"";n?o=`<svg>${o}</svg>`:r&&(o=`<math>${o}</math>`);var f=ss(o);if((n||r)&&(f=pt(f)),Sn(pt(f),f.lastChild),n||r)for(;pt(f);)s.before(pt(f));else s.before(f)}})}const pr=[...` 	
\r\f \v\uFEFF`];function ba(e,t,n){var r=e==null?"":""+e;if(n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,i=0;(i=r.indexOf(a,i))>=0;){var u=i+s;(i===0||pr.includes(r[i-1]))&&(u===r.length||pr.includes(r[u]))?r=(i===0?"":r.substring(0,i))+r.substring(u+1):i=u}}return r===""?null:r}function ya(e,t){return e==null?null:String(e)}function Ie(e,t,n,r,a,s){var i=e.__className;if(i!==n||i===void 0){var u=ba(n,r,s);u==null?e.removeAttribute("class"):e.className=u,e.__className=n}else if(s&&a!==s)for(var o in s){var f=!!s[o];(a==null||f!==!!a[o])&&e.classList.toggle(o,f)}return s}function dn(e,t,n,r){var a=e.__style;if(a!==t){var s=ya(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}function nn(e=!1){const t=G,n=t.l.u;if(!n)return;let r=()=>C(t.s);if(e){let a=0,s={};const i=Xn(()=>{let u=!1;const o=t.s;for(const f in o)o[f]!==s[f]&&(s[f]=o[f],u=!0);return u&&a++,a});r=()=>l(i)}n.b.length&&ra(()=>{gr(t,r),xn(n.b)}),qn(()=>{const a=b(()=>n.m.map(hs));return()=>{for(const s of a)typeof s=="function"&&s()}}),n.a.length&&qn(()=>{gr(t,r),xn(n.a)})}function gr(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}function ar(e,t,n){if(e==null)return t(void 0),n&&n(void 0),mt;const r=b(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const jt=[];function wa(e,t){return{subscribe:Cn(e,t).subscribe}}function Cn(e,t=mt){let n=null;const r=new Set;function a(u){if(Mr(e,u)&&(e=u,n)){const o=!jt.length;for(const f of r)f[1](),jt.push(f,e);if(o){for(let f=0;f<jt.length;f+=2)jt[f][0](jt[f+1]);jt.length=0}}}function s(u){a(u(e))}function i(u,o=mt){const f=[u,o];return r.add(f),r.size===1&&(n=t(a,s)||mt),u(e),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:a,update:s,subscribe:i}}function Ea(e,t,n){const r=!Array.isArray(e),a=r?[e]:e;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=t.length<2;return wa(n,(i,u)=>{let o=!1;const f=[];let d=0,p=mt;const v=()=>{if(d)return;p();const x=t(r?f[0]:f,i,u);s?i(x):p=typeof x=="function"?x:mt},_=a.map((x,S)=>ar(x,c=>{f[S]=c,d&=~(1<<S),o&&v()},()=>{d|=1<<S}));return o=!0,v(),function(){xn(_),p(),o=!1}})}function xa(e){let t;return ar(e,n=>t=n)(),t}let wn=!1,Un=Symbol();function fn(e,t,n){const r=n[t]??={store:null,source:Y(void 0),unsubscribe:mt};if(r.store!==e&&!(Un in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=mt;else{var a=!0;r.unsubscribe=ar(e,s=>{a?r.source.v=s:M(r.source,s)}),a=!1}return e&&Un in n?xa(e):l(r.source)}function ir(){const e={};function t(){er(()=>{for(var n in e)e[n].unsubscribe();yr(e,Un,{enumerable:!1,value:!0})})}return[e,t]}function Pa(e){var t=wn;try{return wn=!1,[e(),wn]}finally{wn=t}}function it(e,t,n,r){var a=!en||(n&Cs)!==0,s=(n&$s)!==0,i=r,u=!0,o=()=>(u&&(u=!1,i=r),i),f;{var d=Ht in e||gs in e;f=Kt(e,t)?.set??(d&&t in e?P=>e[t]=P:void 0)}var p,v=!1;[p,v]=Pa(()=>e[t]),p===void 0&&r!==void 0&&(p=o(),f&&(a&&Ps(),f(p)));var _;if(a?_=()=>{var P=e[t];return P===void 0?o():(u=!0,P)}:_=()=>{var P=e[t];return P!==void 0&&(i=void 0),P===void 0?i:P},a&&(n&Os)===0)return _;if(f){var x=e.$$legacy;return(function(P,h){return arguments.length>0?((!a||!h||x||v)&&f(h?_():P),P):_()})}var S=!1,c=le(()=>(S=!1,_()));l(c);var m=L;return(function(P,h){if(arguments.length>0){const w=h?l(c):a&&s?Vt(P):P;return M(c,w),S=!0,i!==void 0&&(i=w),P}return $t&&S||(m.f&lt)!==0?c.v:l(c)})}function Ta(e){G===null&&ms(),en&&G.l!==null?ka(G).m.push(e):qn(()=>{const t=b(e);if(typeof t=="function")return t})}function ka(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Sa="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Sa);Fs();const gt=Cn({}),En=Cn([]),qt=Cn([]),Da=Ea(gt,e=>Object.values(e).find(t=>t.parent==="user"));Da.subscribe(e=>{e&&qt.update(t=>t.length===0?[{id:0,agentIds:[e.id]}]:t)});function mr(e){const n=e.split(`
`).filter(i=>i.trim()).map(i=>JSON.parse(i)),r={},a=[];for(const i of n)i.event_type==="agent_created"&&(r[i.agent]={id:i.agent,name:i.name,parent:i.parent,children:[],systemPrompts:[]});for(const i of Object.values(r))i.parent&&i.parent!=="user"&&r[i.parent]&&r[i.parent].children.push(i.id);const s=new Map;for(const i of n)i.event_type==="transcript_entry"&&i.role==="tool"&&i.tool_call_id&&s.set(i.tool_call_id,i);for(const i of n)if(i.event_type==="transcript_entry")if(i.role==="system"&&r[i.agent])r[i.agent].systemPrompts.push(i.content);else if(i.role==="user")a.push({id:i.message_id,agent:i.agent,role:"user",content:i.content,substance:i.substance});else if(i.role==="assistant"&&i.tool_calls){const u=i.tool_calls.map(o=>{const f=s.get(o.id),d={...o};return f&&(d.result={role:f.role,content:f.content,name:f.name}),d});a.push({id:i.message_id,agent:i.agent,role:"assistant_tool_use",tool_calls:u,substance:i.substance})}else i.role==="assistant"&&!i.tool_calls&&a.push({id:i.message_id,agent:i.agent,role:"assistant",content:i.content,substance:i.substance});return{agents:r,messages:a}}function Aa(e){const t=new Set,n=[];for(const r of e){if(r.substance){if(t.has(r.substance))continue;t.add(r.substance)}r.substance||t.add(r.id),n.push(r)}return n}function lr(e){const n=new TextEncoder().encode(e);let r=3735928559,a=1103547991;for(let s=0;s<n.length;s++){const i=n[s];r=Math.imul(r^i,2654435761),a=Math.imul(a^i,1597334677),r=r<<13|r>>>19,a=a<<17|a>>>15}return r=Math.imul(r^r>>>16,2246822507),r=Math.imul(r^r>>>13,3266489909),r=(r^r>>>16)>>>0,a=Math.imul(a^a>>>16,2246822507),a=Math.imul(a^a>>>13,3266489909),a=(a^a>>>16)>>>0,r+a>>>0}function Vn(e){return`hsl(${lr(e)%360}, 45%, 85%)`}function Dn(e){return`hsl(${lr(e)%360}, 60%, 35%)`}function Kn(e){return`hsl(${lr(e)%360}, 50%, 70%)`}var Ma=O('<span class="toggle svelte-1ulaew4" role="button" tabindex="0"> </span>'),Ca=O('<span class="toggle-spacer svelte-1ulaew4"></span>'),Oa=O('<span class="separator svelte-1ulaew4">▸</span> <!>',1),$a=O('<div><div class="agent-item svelte-1ulaew4"><!> <span class="agent-badge svelte-1ulaew4" role="button" tabindex="0" draggable="true"> </span> <!></div> <!></div>');function Hn(e,t){Ct(t,!1);const n=()=>fn(gt,"$agents",r),[r,a]=ir(),s=Y(),i=Y(),u=Y(),o=Y(),f=Y(),d=Y(),p=Y();let v=it(t,"agent",8),_=it(t,"depth",8,0),x=it(t,"inline",8,!1),S=Y(!0);function c(q){q.dataTransfer.effectAllowed="copy",q.dataTransfer.setData("application/json",JSON.stringify({agentId:v().id}))}function m(){M(S,!l(S))}function P(q){(q.key==="Enter"||q.key===" ")&&(q.preventDefault(),m())}ye(()=>(C(v()),n()),()=>{M(s,v().children.map(q=>n()[q]).filter(Boolean))}),ye(()=>l(s),()=>{M(i,l(s).length>0)}),ye(()=>l(s),()=>{M(u,l(s).length===1)}),ye(()=>l(s),()=>{M(o,l(s).length>1)}),ye(()=>C(v()),()=>{M(f,v().id+"_"+v().name)}),ye(()=>l(f),()=>{M(d,Vn(l(f)))}),ye(()=>l(f),()=>{M(p,Kn(l(f)))}),pn(),nn();var h=$a();let w;var F=k(h),j=k(F);{var Z=q=>{var Pe=Ne(),Le=ne(Pe);{var He=Ce=>{var z=Ma(),ee=k(z);W(()=>ae(ee,l(S)?"▼":"▶")),A("click",z,m),A("keydown",z,P),T(Ce,z)},xt=Ce=>{var z=Ca();T(Ce,z)};ie(Le,Ce=>{l(o)?Ce(He):Ce(xt,!1)})}T(q,Pe)};ie(j,q=>{x()||q(Z)})}var K=$(j,2),Q=k(K),oe=$(K,2);{var re=q=>{var Pe=Oa(),Le=$(ne(Pe),2);Hn(Le,{get agent(){return l(s),b(()=>l(s)[0])},get depth(){return _()},inline:!0}),T(q,Pe)};ie(oe,q=>{l(u)&&q(re)})}var fe=$(F,2);{var et=q=>{var Pe=Ne(),Le=ne(Pe);_e(Le,1,()=>l(s),He=>He.id,(He,xt)=>{var Ce=Ne(),z=ne(Ce);{let ee=le(()=>_()+1);Hn(z,{get agent(){return l(xt)},get depth(){return l(ee)}})}T(He,Ce)}),T(q,Pe)};ie(fe,q=>{l(S)&&l(o)&&q(et)})}W(()=>{w=Ie(h,1,"agent-node svelte-1ulaew4",null,w,{inline:x()}),dn(h,`margin-left: ${x()?0:_()*20}px`),dn(K,`background-color: ${l(d)??""}; border-color: ${l(p)??""};`),ae(Q,(C(v()),b(()=>v().name)))}),A("dragstart",K,c),T(e,h),Ot(),a()}var Ia=O('<p class="empty svelte-5r6xef">No agents found in log</p>'),Na=O('<div class="hierarchy svelte-5r6xef"><!></div>');function Ra(e,t){Ct(t,!1);const n=()=>fn(gt,"$agents",r),[r,a]=ir(),s=Y();ye(()=>n(),()=>{M(s,Object.values(n()).filter(d=>d.parent==="user"))}),pn(),nn();var i=Na(),u=k(i);{var o=d=>{var p=Ia();T(d,p)},f=d=>{var p=Ne(),v=ne(p);_e(v,1,()=>l(s),_=>_.id,(_,x)=>{Hn(_,{get agent(){return l(x)}})}),T(d,p)};ie(u,d=>{l(s),b(()=>l(s).length===0)?d(o):d(f,!1)})}T(e,i),Ot(),a()}var La=O('<div class="message-content svelte-kszgzy"><span class="agent-prefix svelte-kszgzy"> </span> </div>'),Fa=O('<div class="message-content svelte-kszgzy"> </div>'),za=O("<div><!></div>");function ja(e,t){Ct(t,!1);const n=Y(),r=Y(),a=Y(),s=Y();let i=it(t,"message",8),u=it(t,"agentName",8,""),o=it(t,"agentId",8,""),f=it(t,"showPrefix",8,!1);ye(()=>C(i()),()=>{M(n,i().role==="user")}),ye(()=>C(i()),()=>{M(r,i().role==="assistant")}),ye(()=>(C(o()),C(u())),()=>{M(a,o()&&u()?o()+"_"+u():o())}),ye(()=>(l(a),Dn),()=>{M(s,l(a)?Dn(l(a)):"#333")}),pn(),nn();var d=za();let p;var v=k(d);{var _=S=>{var c=La(),m=k(c),P=k(m),h=$(m);W(()=>{dn(m,`color: ${l(s)??""};`),ae(P,`[${u()??""}]:`),ae(h,` ${C(i()),b(()=>i().content)??""}`)}),T(S,c)},x=S=>{var c=Fa(),m=k(c);W(()=>ae(m,(C(i()),b(()=>i().content)))),T(S,c)};ie(v,S=>{l(r)&&f()&&u()?S(_):S(x,!1)})}W(()=>p=Ie(d,1,"message svelte-kszgzy",null,p,{user:l(n),assistant:l(r)})),T(e,d),Ot()}var qa=O('<div class="field-line svelte-g00oa"><span class="field-name svelte-g00oa"> </span> </div>'),Ba=O("<span>,</span>"),Ua=O("<button> </button><!>",1),Va=O('<div class="field-line svelte-g00oa"><span class="field-name svelte-g00oa"> </span> </div>'),Ka=O('<div class="detail-line svelte-g00oa"><span class="field-name svelte-g00oa"> </span>: <!> </div>'),Ha=O('<div class="detail-line svelte-g00oa"><span class="field-name svelte-g00oa"> </span>: <!> </div>'),Ya=O('<hr class="divider svelte-g00oa"/> <div class="tool-result-details svelte-g00oa"><div class="details-display svelte-g00oa"></div></div>',1),Ja=O('<hr class="divider svelte-g00oa"/> <div class="tool-call-details svelte-g00oa"><div class="details-display svelte-g00oa"></div></div> <!>',1),Wa=O('<div class="modal-backdrop svelte-g00oa" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-content svelte-g00oa"><div class="modal-header svelte-g00oa"><h2 class="svelte-g00oa">Tool Usage Details</h2> <button class="close-btn svelte-g00oa" aria-label="Close">&times;</button></div> <div class="modal-body svelte-g00oa"><div class="message-fields svelte-g00oa"><div class="fields-display svelte-g00oa"><!> <div class="field-line svelte-g00oa"><span class="field-name svelte-g00oa">tool_calls</span>: [ <!> <span> </span></div> <!></div></div> <!></div></div></div>');function Ga(e,t){Ct(t,!1);const n=Y();let r=it(t,"toolUseMessage",8,null),a=it(t,"onClose",8,()=>{}),s=Y(null);function i(h){M(s,h)}function u(h){h.target===h.currentTarget&&a()()}function o(h){(h.key==="Enter"||h.key===" ")&&h.target===h.currentTarget&&(h.preventDefault(),a()())}function f(h){h.key==="Escape"&&a()()}function d(h){if(!h)return[];const w=[];return w.push({key:"message_id",value:`"${h.id}"`}),w.push({key:"event_type",value:'"transcript_entry"'}),w.push({key:"agent",value:`"${h.agent}"`}),w.push({key:"role",value:'"assistant"'}),w}function p(h){return!h||!h.substance?null:{key:"substance",value:`"${h.substance}"`}}function v(h,w=0){if(h==null)return"null";if(typeof h=="string")return`"${_(h)}"`;if(typeof h=="number"||typeof h=="boolean")return String(h);if(Array.isArray(h))return h.length===0?"[]":`[
`+h.map(j=>v(j,w+2)).map(j=>" ".repeat(w+2)+j).join(`,
`)+`
`+" ".repeat(w)+"]";if(typeof h=="object"){const F=Object.entries(h);return F.length===0?"{}":`{
`+F.map(([Z,K])=>{const Q=" ".repeat(w+2),oe=v(K,w+2);return`${Q}<b>${_(Z)}</b>: ${oe}`}).join(`,
`)+`
`+" ".repeat(w)+"}"}return String(h)}function _(h){const w=document.createElement("div");return w.textContent=h,w.innerHTML}function x(h){if(!h)return[];const{result:w,...F}=h;return Object.entries(F).map(([j,Z])=>({key:j,value:v(Z,0)}))}function S(h){return h?Object.entries(h).map(([w,F])=>({key:w,value:v(F,0)})):[]}ye(()=>C(r()),()=>{r()&&r().tool_calls&&r().tool_calls.length>0?M(s,0):M(s,null)}),ye(()=>(l(s),C(r())),()=>{M(n,l(s)!==null?r()?.tool_calls[l(s)]:null)}),pn(),nn();var c=Ne();A("keydown",jn,f);var m=ne(c);{var P=h=>{var w=Wa(),F=k(w),j=k(F),Z=$(k(j),2),K=$(j,2),Q=k(K),oe=k(Q),re=k(oe);_e(re,1,()=>(C(r()),b(()=>d(r()))),ln,(z,ee)=>{var g=qa(),y=k(g),E=k(y),D=$(y);W(()=>{ae(E,(l(ee),b(()=>l(ee).key))),ae(D,`: ${l(ee),b(()=>l(ee).value)??""},`)}),T(z,g)});var fe=$(re,2),et=$(k(fe),2);_e(et,3,()=>(C(r()),b(()=>r().tool_calls)),z=>z.id,(z,ee,g)=>{var y=Ua(),E=ne(y);let D;var N=k(E),B=$(E);{var we=R=>{var Te=Ba();T(R,Te)};ie(B,R=>{C(l(g)),C(r()),b(()=>l(g)<r().tool_calls.length-1)&&R(we)})}W(()=>{D=Ie(E,1,"inline-tool-button svelte-g00oa",null,D,{selected:l(s)===l(g)}),ae(N,(l(ee),b(()=>l(ee).function?.name||"unknown")))}),A("click",E,()=>i(l(g))),T(z,y)});var q=$(et,2),Pe=k(q),Le=$(fe,2);{var He=z=>{const ee=le(()=>(C(r()),b(()=>p(r()))));var g=Va(),y=k(g),E=k(y),D=$(y);W(()=>{ae(E,(C(l(ee)),b(()=>l(ee).key))),ae(D,`: ${C(l(ee)),b(()=>l(ee).value)??""}`)}),T(z,g)};ie(Le,z=>{C(r()),b(()=>p(r()))&&z(He)})}var xt=$(Q,2);{var Ce=z=>{var ee=Ja(),g=$(ne(ee),2),y=k(g);_e(y,5,()=>(l(n),b(()=>x(l(n)))),ln,(N,B,we)=>{var R=Ka(),Te=k(R),X=k(Te),Be=$(Te,2);hr(Be,()=>(l(B),b(()=>l(B).value)));var tt=$(Be,1,!0);W(It=>{ae(X,(l(B),b(()=>l(B).key))),ae(tt,It)},[()=>(l(n),b(()=>we<x(l(n)).length-1?",":""))]),T(N,R)});var E=$(g,2);{var D=N=>{var B=Ya(),we=$(ne(B),2),R=k(we);_e(R,5,()=>(l(n),b(()=>S(l(n).result))),ln,(Te,X,Be)=>{var tt=Ha(),It=k(tt),On=k(It),V=$(It,2);hr(V,()=>(l(X),b(()=>l(X).value)));var H=$(V,1,!0);W(Ue=>{ae(On,(l(X),b(()=>l(X).key))),ae(H,Ue)},[()=>(l(n),b(()=>Be<S(l(n).result).length-1?",":""))]),T(Te,tt)}),T(N,B)};ie(E,N=>{l(n),b(()=>l(n).result)&&N(D)})}T(z,ee)};ie(xt,z=>{l(n)&&z(Ce)})}W(z=>ae(Pe,`]${z??""}`),[()=>(C(r()),b(()=>p(r())?",":""))]),A("click",Z,function(...z){a()?.apply(this,z)}),A("click",w,u),A("keydown",w,o),T(h,w)};ie(m,h=>{r()&&h(P)})}T(e,c),Ot()}var Xa=O('<div class="empty-state-container svelte-r539bm"><div class="empty-state-header svelte-r539bm" role="region" aria-label="Drop zone for first panel"><div class="empty-state-text svelte-r539bm">Drag an agent here to view its transcript</div></div></div>'),Za=O('<span class="agent-badge svelte-r539bm" role="button" tabindex="0" draggable="true"> <button class="remove-btn svelte-r539bm">×</button></span>'),Qa=O('<div role="region" aria-label="Drop zone to insert panel"></div> <div role="region" aria-label="Panel header drop zone"><div class="agent-badges svelte-r539bm"></div></div>',1),ei=O('<div class="system-prompt-box svelte-r539bm"><div class="system-prompt-content svelte-r539bm"> </div></div>'),ti=O('<div class="system-prompt-box svelte-r539bm"><div class="system-prompt-agent-name svelte-r539bm"> </div> <div class="system-prompt-content svelte-r539bm"> </div></div>'),ni=O('<div role="region" aria-label="Drop zone to insert panel"></div> <div class="system-prompts-cell svelte-r539bm" role="region" aria-label="Panel drop zone"><!></div>',1),ri=O('<div class="empty-state svelte-r539bm">No messages to display</div>'),si=O('<span class="agent-prefix svelte-r539bm"> </span>'),ai=O('<span class="tool-icon svelte-r539bm" role="button" tabindex="0" title="Click to view tool usage details">○</span>'),ii=O('<div class="tool-group svelte-r539bm"><!> <!></div>'),li=O('<div role="region" aria-label="Panel drop zone"></div>'),oi=O('<div role="region" aria-label="Drop zone to insert panel"></div> <!>',1),fi=O('<div><!> <div role="region" aria-label="Drop zone to insert panel"></div></div>'),ui=O('<div class="messages-scroll-container svelte-r539bm"><div class="panel-headers svelte-r539bm"><!> <div role="region" aria-label="Drop zone to insert panel"></div></div> <div class="system-prompts-row svelte-r539bm"><!> <div role="region" aria-label="Drop zone to insert panel"></div></div> <div class="messages-grid svelte-r539bm"><!></div></div>'),ci=O('<div class="panels-container svelte-r539bm"><!></div> <!>',1);function di(e,t){Ct(t,!1);const n=()=>fn(En,"$allMessages",s),r=()=>fn(qt,"$panels",s),a=()=>fn(gt,"$agents",s),[s,i]=ir(),u=Y(),o=Y();let f=1,d=Y(null),p=Y(null),v=Y(null);function _(g){M(v,g)}function x(){M(v,null)}function S(g){const y={id:f++,agentIds:[g]};qt.update(E=>[...E,y])}function c(g,y){const E={id:f++,agentIds:[g]};qt.update(D=>{const N=[...D];return N.splice(y,0,E),N})}function m(g,y){qt.update(E=>E.map(D=>D.id===g&&!D.agentIds.includes(y)?{...D,agentIds:[...D.agentIds,y]}:D))}function P(g,y){qt.update(E=>E.map(N=>N.id===g?{...N,agentIds:N.agentIds.filter(B=>B!==y)}:N).filter(N=>N.agentIds.length>0))}function h(g,y,E){E.stopPropagation(),E.dataTransfer.effectAllowed="move",E.dataTransfer.setData("application/json",JSON.stringify({agentId:y,fromPanel:g}))}function w(g,y,E){E.dataTransfer.dropEffect==="none"&&P(g,y)}function F(g,y){y.preventDefault(),y.stopPropagation(),M(p,null);const E=JSON.parse(y.dataTransfer.getData("application/json"));E.agentId&&(E.fromPanel!==void 0&&E.fromPanel!==g&&P(E.fromPanel,E.agentId),m(g,E.agentId))}function j(g,y){y.preventDefault(),y.stopPropagation(),M(p,g)}function Z(g){g.preventDefault(),g.stopPropagation(),M(p,null)}function K(g,y){y.preventDefault(),y.stopPropagation(),M(d,null);const E=JSON.parse(y.dataTransfer.getData("application/json"));E.agentId&&(E.fromPanel!==void 0&&P(E.fromPanel,E.agentId),c(E.agentId,g))}function Q(g){g.preventDefault();const y=JSON.parse(g.dataTransfer.getData("application/json"));y.agentId&&(y.fromPanel!==void 0&&P(y.fromPanel,y.agentId),S(y.agentId))}function oe(g,y){y.preventDefault(),y.stopPropagation(),M(d,g)}function re(g){g.preventDefault(),M(d,null)}function fe(g,y){return y.agentIds.includes(g.agent)}function et(g,y){const E=new Map;for(const D of y){const N=g.filter(we=>fe(we,D)),B=Aa(N);E.set(D.id,new Set(B.map(we=>we.id)))}return E}function q(g,y,E){const D=[],N=new Map,B=new Map,we=new Set;for(const R of g){if(we.has(R.id))continue;let Te=!1;for(const Be of E)if(y.get(Be.id)?.has(R.id)){Te=!0;break}if(!Te)continue;let X;if(R.substance)N.has(R.substance)?(X=N.get(R.substance),D[X].messages.push(R)):B.has(R.substance)?(X=B.get(R.substance),D[X].messages.push(R),N.set(R.substance,X)):(X=D.length,N.set(R.substance,X),D.push({substance:R.substance,messages:[R]}));else{if(R.role==="assistant_tool_use"&&D.length>0){const Be=D[D.length-1],tt=Be.messages[Be.messages.length-1];tt.role==="assistant_tool_use"&&tt.agent===R.agent?(X=D.length-1,D[X].messages.push(R)):(X=D.length,D.push({substance:null,messages:[R]}))}else X=D.length,D.push({substance:null,messages:[R]});B.set(R.id,X)}we.add(R.id)}return D}function Pe(g){const y=[];let E=0;for(;E<g.length;){const D=g[E];if(D.role==="assistant_tool_use"){const N=[D];let B=E+1;for(;B<g.length&&g[B].role==="assistant_tool_use"&&g[B].agent===D.agent;)N.push(g[B]),B++;y.push({type:"tool_group",agent:D.agent,messages:N}),E=B}else y.push({type:"message",message:D}),E++}return y}ye(()=>(n(),r()),()=>{M(u,et(n(),r()))}),ye(()=>(n(),l(u),r()),()=>{M(o,q(n(),l(u),r()))}),pn(),nn();var Le=ci(),He=ne(Le),xt=k(He);{var Ce=g=>{var y=Xa(),E=k(y);A("dragover",E,D=>D.preventDefault()),A("drop",E,Q),T(g,y)},z=g=>{var y=ui(),E=k(y),D=k(E);_e(D,3,r,V=>V.id,(V,H,Ue)=>{var nt=Qa(),ue=ne(nt);let Pt;var Fe=$(ue,2);let dt;var Nt=k(Fe);_e(Nt,5,()=>(l(H),b(()=>l(H).agentIds)),me=>me,(me,U)=>{const ke=le(()=>(a(),l(U),b(()=>a()[l(U)])));var te=Ne(),Ye=ne(te);{var Je=de=>{const ve=le(()=>(l(U),C(l(ke)),b(()=>l(U)+"_"+l(ke).name)));var Oe=Za(),vt=k(Oe),Ee=$(vt);W((se,rt)=>{dn(Oe,`background-color: ${se??""}; border-color: ${rt??""};`),ae(vt,`${C(l(ke)),b(()=>l(ke).name)??""} `)},[()=>(C(Vn),C(l(ve)),b(()=>Vn(l(ve)))),()=>(C(Kn),C(l(ve)),b(()=>Kn(l(ve))))]),A("click",Ee,()=>P(l(H).id,l(U))),A("dragstart",Oe,se=>h(l(H).id,l(U),se)),A("dragend",Oe,se=>w(l(H).id,l(U),se)),T(de,Oe)};ie(Ye,de=>{l(ke)&&de(Je)})}T(me,te)}),W(()=>{Pt=Ie(ue,1,"divider-drop-zone svelte-r539bm",null,Pt,{hovered:l(d)===`divider-${l(Ue)}`}),dt=Ie(Fe,1,"panel-header svelte-r539bm",null,dt,{hovered:l(p)===l(H).id})}),A("dragover",ue,me=>oe(`divider-${l(Ue)}`,me)),A("dragleave",ue,re),A("drop",ue,me=>K(l(Ue),me)),A("dragover",Fe,me=>j(l(H).id,me)),A("dragleave",Fe,Z),A("drop",Fe,me=>F(l(H).id,me)),T(V,nt)});var N=$(D,2);let B;var we=$(E,2),R=k(we);_e(R,3,r,V=>V.id,(V,H,Ue)=>{var nt=ni(),ue=ne(nt);let Pt;var Fe=$(ue,2),dt=k(Fe);{var Nt=U=>{const ke=le(()=>(l(H),b(()=>l(H).agentIds[0]))),te=le(()=>(a(),C(l(ke)),b(()=>a()[l(ke)])));var Ye=Ne(),Je=ne(Ye);{var de=ve=>{var Oe=Ne(),vt=ne(Oe);_e(vt,1,()=>(C(l(te)),b(()=>l(te).systemPrompts)),ln,(Ee,se)=>{var rt=ei(),_t=k(rt),rn=k(_t);W(()=>ae(rn,l(se))),T(Ee,rt)}),T(ve,Oe)};ie(Je,ve=>{C(l(te)),b(()=>l(te)&&l(te).systemPrompts&&l(te).systemPrompts.length>0)&&ve(de)})}T(U,Ye)},me=U=>{var ke=Ne(),te=ne(ke);_e(te,1,()=>(l(H),b(()=>l(H).agentIds)),Ye=>Ye,(Ye,Je)=>{const de=le(()=>(a(),l(Je),b(()=>a()[l(Je)])));var ve=Ne(),Oe=ne(ve);{var vt=Ee=>{var se=Ne(),rt=ne(se);_e(rt,1,()=>(C(l(de)),b(()=>l(de).systemPrompts)),ln,(_t,rn)=>{var st=ti(),sn=k(st),Se=k(sn),ce=$(sn,2),gn=k(ce);W(()=>{ae(Se,(C(l(de)),b(()=>l(de).name))),ae(gn,l(rn))}),T(_t,st)}),T(Ee,se)};ie(Oe,Ee=>{C(l(de)),b(()=>l(de)&&l(de).systemPrompts&&l(de).systemPrompts.length>0)&&Ee(vt)})}T(Ye,ve)}),T(U,ke)};ie(dt,U=>{l(H),b(()=>l(H).agentIds.length===1)?U(Nt):U(me,!1)})}W(()=>Pt=Ie(ue,1,"divider-drop-zone svelte-r539bm",null,Pt,{hovered:l(d)===`divider-${l(Ue)}`})),A("dragover",ue,U=>oe(`divider-${l(Ue)}`,U)),A("dragleave",ue,re),A("drop",ue,U=>K(l(Ue),U)),A("dragover",Fe,U=>j(l(H).id,U)),A("dragleave",Fe,Z),A("drop",Fe,U=>F(l(H).id,U)),T(V,nt)});var Te=$(R,2);let X;var Be=$(we,2),tt=k(Be);{var It=V=>{var H=ri();T(V,H)},On=V=>{var H=Ne(),Ue=ne(H);_e(Ue,3,()=>l(o),(nt,ue)=>nt.substance||`row-${ue}`,(nt,ue,Pt)=>{const Fe=le(()=>(l(ue),b(()=>l(ue).messages.every(te=>te.role==="assistant_tool_use"))));var dt=fi();let Nt;var me=k(dt);_e(me,3,r,te=>te.id,(te,Ye,Je)=>{var de=oi(),ve=ne(de);let Oe;var vt=$(ve,2);_e(vt,1,()=>[l(Ye)],Ee=>Ee.id,(Ee,se)=>{const rt=le(()=>(l(ue),l(u),l(se),b(()=>l(ue).messages.filter(Se=>l(u).get(l(se).id)?.has(Se.id))))),_t=le(()=>(C(l(rt)),b(()=>Pe(l(rt))))),rn=le(()=>(C(l(_t)),b(()=>l(_t).length>0&&l(_t).every(Se=>Se.type==="tool_group"))));var st=li();let sn;_e(st,7,()=>l(_t),(Se,ce)=>Se.type==="tool_group"?`tool-group-${l(se).id}-${l(Pt)}-${ce}`:Se.message.id,(Se,ce)=>{var gn=Ne(),as=ne(gn);{var is=Rt=>{var mn=ii(),bn=k(mn);{var os=Tt=>{const Lt=le(()=>(a(),l(ce),b(()=>a()[l(ce).agent]?.name))),Ft=le(()=>(l(ce),C(l(Lt)),b(()=>l(ce).agent+"_"+l(Lt)))),$n=le(()=>(C(Dn),C(l(Ft)),b(()=>Dn(l(Ft)))));var In=si(),us=k(In);W(()=>{dn(In,`color: ${l($n)??""};`),ae(us,`[${l(Lt)??""}]:`)}),T(Tt,In)};ie(bn,Tt=>{l(se),b(()=>l(se).agentIds.length>1)&&Tt(os)})}var fs=$(bn,2);_e(fs,1,()=>(l(ce),b(()=>l(ce).messages)),Tt=>Tt.id,(Tt,Lt)=>{var Ft=ai();A("click",Ft,()=>_(l(Lt))),A("keydown",Ft,$n=>$n.key==="Enter"&&_(l(Lt))),T(Tt,Ft)}),T(Rt,mn)},ls=Rt=>{{let mn=le(()=>(a(),l(ce),b(()=>a()[l(ce).message.agent]?.name))),bn=le(()=>(l(se),b(()=>l(se).agentIds.length>1)));ja(Rt,{get message(){return l(ce),b(()=>l(ce).message)},get agentName(){return l(mn)},get agentId(){return l(ce),b(()=>l(ce).message.agent)},get showPrefix(){return l(bn)}})}};ie(as,Rt=>{l(ce),b(()=>l(ce).type==="tool_group")?Rt(is):Rt(ls,!1)})}T(Se,gn)}),W(()=>sn=Ie(st,1,"message-cell svelte-r539bm",null,sn,{"tool-message-cell":l(rn)})),A("dragover",st,Se=>j(l(se).id,Se)),A("dragleave",st,Z),A("drop",st,Se=>F(l(se).id,Se)),T(Ee,st)}),W(()=>Oe=Ie(ve,1,"divider-drop-zone svelte-r539bm",null,Oe,{hovered:l(d)===`divider-${l(Je)}`})),A("dragover",ve,Ee=>oe(`divider-${l(Je)}`,Ee)),A("dragleave",ve,re),A("drop",ve,Ee=>K(l(Je),Ee)),T(te,de)});var U=$(me,2);let ke;W(()=>{Nt=Ie(dt,1,"message-row svelte-r539bm",null,Nt,{"tool-row":l(Fe)}),ke=Ie(U,1,"divider-drop-zone svelte-r539bm",null,ke,{hovered:l(d)===`divider-${r().length}`})}),A("dragover",U,te=>oe(`divider-${r().length}`,te)),A("dragleave",U,re),A("drop",U,te=>K(r().length,te)),T(nt,dt)}),T(V,H)};ie(tt,V=>{l(o),b(()=>l(o).length===0)?V(It):V(On,!1)})}W(()=>{B=Ie(N,1,"divider-drop-zone svelte-r539bm",null,B,{hovered:l(d)===`divider-${r().length}`}),X=Ie(Te,1,"divider-drop-zone svelte-r539bm",null,X,{hovered:l(d)===`divider-${r().length}`})}),A("dragover",N,V=>oe(`divider-${r().length}`,V)),A("dragleave",N,re),A("drop",N,V=>K(r().length,V)),A("dragover",Te,V=>oe(`divider-${r().length}`,V)),A("dragleave",Te,re),A("drop",Te,V=>K(r().length,V)),T(g,y)};ie(xt,g=>{r(),b(()=>r().length===0)?g(Ce):g(z,!1)})}var ee=$(He,2);Ga(ee,{get toolUseMessage(){return l(v)},onClose:x}),T(e,Le),Ot(),i()}var vi=O('<div role="region" aria-label="File drop zone"><div class="drop-zone-content svelte-1n46o8q"><h1 class="svelte-1n46o8q">Multi-Agent Event Log Viewer</h1> <p class="svelte-1n46o8q">Connecting to live session...</p> <p style="font-size: 0.9rem; color: #888; margin-top: 1rem;" class="svelte-1n46o8q">Or drag and drop a .jsonl log file here to view it</p> <p style="font-size: 0.8rem; color: #aaa; margin-top: 0.5rem;" class="svelte-1n46o8q">(You can also use ?log=/path/to/file.jsonl)</p></div></div>'),_i=O('<div class="viewer svelte-1n46o8q"><div class="hierarchy-section svelte-1n46o8q"><!></div> <div class="panels-section svelte-1n46o8q"><!></div></div>'),hi=O('<main class="svelte-1n46o8q"><!></main>');function pi(e,t){Ct(t,!1);let n=Y(!1),r=Y(!1),a=!1,s={},i=[];function u(c){if(c.event_type==="agent_created")s[c.agent]||(s[c.agent]={id:c.agent,name:c.name,parent:c.parent,children:[],systemPrompts:[]},c.parent&&c.parent!=="user"&&s[c.parent]&&(s[c.parent].children.includes(c.agent)||s[c.parent].children.push(c.agent)),gt.set({...s}));else if(c.event_type==="transcript_entry"){if(c.role==="system"&&s[c.agent]){s[c.agent].systemPrompts.push(c.content),gt.set({...s});return}if(c.role==="user"||c.role==="assistant"&&!c.tool_calls){const m={id:c.message_id,agent:c.agent,role:c.role,content:c.content,substance:c.substance};i.push(m),En.set([...i])}}}function o(){const c=new EventSource("/events");return c.onmessage=m=>{const P=JSON.parse(m.data);u(P),l(r)||(M(r,!0),a=!0)},c.onerror=m=>{console.error("SSE connection error:",m)},c}Ta(async()=>{const m=new URLSearchParams(window.location.search).get("log");if(m){try{const h=await fetch(m);if(!h.ok)throw new Error(`Failed to fetch log file: ${h.status} ${h.statusText}`);const w=await h.text(),{agents:F,messages:j}=mr(w);gt.set(F),En.set(j),M(r,!0),a=!1;const Z=m.split("/").pop();document.title=Z||"Log Viewer"}catch(h){console.error("Failed to load log file from URL:",h),alert(`Failed to load log file: ${h.message}`)}return}try{const w=await(await fetch("/session-info")).json();w.filename&&(document.title=w.filename)}catch(h){console.error("Failed to fetch session info:",h)}const P=o();return()=>{P.close()}});function f(c){c.preventDefault(),M(n,!0)}function d(c){c.preventDefault(),M(n,!1)}async function p(c){c.preventDefault(),M(n,!1);const m=c.dataTransfer.files;if(m.length===0)return;const P=m[0];if(!P.name.endsWith(".jsonl")){alert("Please drop a .jsonl file");return}const h=await P.text(),{agents:w,messages:F}=mr(h);gt.set(w),En.set(F),M(r,!0),a=!1}nn();var v=hi(),_=k(v);{var x=c=>{var m=vi();let P;W(()=>P=Ie(m,1,"drop-zone svelte-1n46o8q",null,P,{"drag-over":l(n)})),A("dragover",m,f),A("dragleave",m,d),A("drop",m,p),T(c,m)},S=c=>{var m=_i(),P=k(m),h=k(P);Ra(h,{});var w=$(P,2),F=k(w);di(F,{}),T(c,m)};ie(_,c=>{l(r)?c(S,!1):c(x)})}T(e,v),Ot()}ha(pi,{target:document.getElementById("app")});</script>
    <style rel="stylesheet" crossorigin>*{box-sizing:border-box}body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;font-size:14px;line-height:1.6}#app{width:100%;height:100vh}.agent-node.svelte-1ulaew4{user-select:none}.agent-node.inline.svelte-1ulaew4{display:inline-flex;align-items:center}.agent-item.svelte-1ulaew4{display:flex;align-items:center;padding:.15rem 0;gap:.5rem}.agent-node.svelte-1ulaew4:not(.inline) .agent-node:not(.inline){margin-top:-.2rem}.toggle.svelte-1ulaew4{cursor:pointer;width:20px;display:inline-block;text-align:center;font-size:.8rem;user-select:none}.toggle-spacer.svelte-1ulaew4{width:20px;display:inline-block}.separator.svelte-1ulaew4{color:#999;font-size:.9rem;margin:0 .3rem}.agent-badge.svelte-1ulaew4{display:inline-flex;align-items:center;padding:.1rem .75rem;border-radius:12px;font-size:.9rem;font-weight:500;cursor:move;border:1px solid;transition:transform .2s}.agent-badge.svelte-1ulaew4:hover{transform:translateY(-1px)}.hierarchy.svelte-5r6xef{font-family:monospace}.empty.svelte-5r6xef{color:#999;font-style:italic}.message.svelte-kszgzy{margin-bottom:.5rem;word-wrap:break-word}.message.user.svelte-kszgzy{background:#f0f0f0;padding:.75rem 1rem;border-radius:8px;max-width:90%;margin-left:auto;margin-right:0}.message.assistant.svelte-kszgzy{width:100%}.message-content.svelte-kszgzy{white-space:pre-wrap;line-height:1.5}.agent-prefix.svelte-kszgzy{font-weight:700;margin-right:.5rem}.modal-backdrop.svelte-g00oa{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;padding:2rem}.modal-content.svelte-g00oa{background:#fff;border-radius:8px;max-width:900px;width:100%;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 4px 20px #0000004d}.modal-header.svelte-g00oa{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #ddd}.modal-header.svelte-g00oa h2:where(.svelte-g00oa){margin:0;font-size:1.5rem}.close-btn.svelte-g00oa{background:none;border:none;font-size:2rem;cursor:pointer;color:#666;line-height:1;padding:0;width:2rem;height:2rem}.close-btn.svelte-g00oa:hover{color:#d32f2f}.modal-body.svelte-g00oa{overflow-y:auto;padding:1.5rem}.message-fields.svelte-g00oa{margin-bottom:1rem}.fields-display.svelte-g00oa{font-family:Courier New,Courier,monospace;font-size:.9rem;margin:0;margin-bottom:1rem}.field-line.svelte-g00oa{line-height:1.5}.field-name.svelte-g00oa{font-weight:700}.inline-tool-button.svelte-g00oa{background:transparent;color:#333;border:1px solid #999;padding:0 3px;border-radius:2px;cursor:pointer;font-family:Courier New,Courier,monospace;font-size:.9rem;font-weight:400;transition:all .15s;display:inline;margin:0;vertical-align:baseline}.inline-tool-button.svelte-g00oa:hover{background:#e8e8e8;border-color:#666}.inline-tool-button.selected.svelte-g00oa{background:#007bff;color:#fff;border-color:#0056b3}.divider.svelte-g00oa{border:none;border-top:1px solid #ccc;margin:1rem 0}.tool-call-details.svelte-g00oa,.tool-result-details.svelte-g00oa{margin:1rem 0}.details-display.svelte-g00oa{font-family:Courier New,Courier,monospace;font-size:.9rem;margin:0}.detail-line.svelte-g00oa{line-height:1.5;white-space:pre-wrap}.panels-container.svelte-r539bm,.empty-state-container.svelte-r539bm{display:flex;flex-direction:column;height:100%}.empty-state-header.svelte-r539bm{position:sticky;top:0;z-index:10;display:flex;align-items:center;justify-content:center;padding:.75rem;border-bottom:2px solid #ddd;background:#f9f9f9;min-height:3rem}.empty-state-text.svelte-r539bm{color:#999;font-style:italic;font-size:1rem}.messages-scroll-container.svelte-r539bm{flex:1;overflow-y:auto;overflow-x:auto}.panel-headers.svelte-r539bm{position:sticky;top:0;z-index:10;display:flex;border-bottom:2px solid #ddd;background:#f9f9f9}.divider-drop-zone.svelte-r539bm{min-width:2em;width:2em;background:transparent;position:relative;transition:background .2s;cursor:pointer}.divider-drop-zone.svelte-r539bm:before{content:"";position:absolute;left:50%;top:0;bottom:0;width:1px;background:#333;transform:translate(-50%)}.divider-drop-zone.hovered.svelte-r539bm{background:#add8e680}.panel-header.svelte-r539bm{flex:1;min-width:400px;padding:.75rem;transition:background .2s}.panel-header.hovered.svelte-r539bm{background:#add8e680}.agent-badges.svelte-r539bm{display:flex;gap:.5rem;flex-wrap:wrap}.agent-badge.svelte-r539bm{display:inline-flex;align-items:center;gap:.5rem;padding:.1rem .75rem;border-radius:12px;font-size:.9rem;font-weight:500;border:1px solid;cursor:move;user-select:none}.remove-btn.svelte-r539bm{background:none;border:none;cursor:pointer;font-size:1.2rem;line-height:1;padding:0;color:#666}.remove-btn.svelte-r539bm:hover{color:#d32f2f}.messages-grid.svelte-r539bm{min-width:fit-content}.message-row.svelte-r539bm{display:flex;min-height:40px}.tool-row.svelte-r539bm{min-height:auto}.message-cell.svelte-r539bm{flex:1;min-width:400px;padding:.5rem 1rem}.tool-message-cell.svelte-r539bm{padding:0 1rem}.tool-group.svelte-r539bm{display:flex;align-items:center;gap:.25rem}.tool-icon.svelte-r539bm{font-size:.6rem;padding:0;cursor:pointer;user-select:none;transition:transform .1s}.tool-icon.svelte-r539bm:hover{transform:scale(1.2)}.tool-icon.svelte-r539bm:active{transform:scale(1)}.agent-prefix.svelte-r539bm{font-weight:700;margin-right:.5rem}.empty-state.svelte-r539bm{padding:2rem;text-align:center;color:#999;font-style:italic}.system-prompts-row.svelte-r539bm{display:flex;min-height:fit-content}.system-prompts-cell.svelte-r539bm{flex:1;min-width:400px;padding:.5rem 1rem}.system-prompt-box.svelte-r539bm{border:2pt dashed #000;padding:.75rem;margin-bottom:.5rem;background:#fff}.system-prompt-agent-name.svelte-r539bm{font-weight:700;margin-bottom:.5rem;color:#333}.system-prompt-content.svelte-r539bm{white-space:pre-wrap;font-family:monospace,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:.8rem;line-height:1.5;color:#333}main.svelte-1n46o8q{width:100%;height:100vh;margin:0;padding:0}.drop-zone.svelte-1n46o8q{width:100%;height:100vh;display:flex;align-items:center;justify-content:center;background:#f5f5f5;border:3px dashed #ccc;transition:all .3s}.drop-zone.drag-over.svelte-1n46o8q{background:#e8f4f8;border-color:#4a90e2}.drop-zone-content.svelte-1n46o8q{text-align:center}.drop-zone-content.svelte-1n46o8q h1:where(.svelte-1n46o8q){color:#333;margin-bottom:1rem}.drop-zone-content.svelte-1n46o8q p:where(.svelte-1n46o8q){color:#666;font-size:1.1rem}.viewer.svelte-1n46o8q{display:flex;flex-direction:column;height:100vh}.hierarchy-section.svelte-1n46o8q{border-bottom:2px solid #ddd;padding:.5rem 1rem;max-height:20vh;overflow-y:auto}.panels-section.svelte-1n46o8q{flex:1;overflow:hidden}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
